from openai import AsyncOpenAI
from config import OPENAI_KEY

client = AsyncOpenAI(api_key=OPENAI_KEY)

model = "gpt-4.1-mini"

role_easy = """–¢—ã ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤ Telegram-–±–æ—Ç–µ SkillDebater, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ –ú—è–≥–∫–æ–º —Ä–µ–∂–∏–º–µ. –¢–≤–æ–π —Å—Ç–∏–ª—å: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π, –∫–∞–∫ –ª—É—á—à–∏–π –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä—ã–π —Ö–≤–∞–ª–∏—Ç –∑–∞ –ª—é–±—É—é –ø–æ–ø—ã—Ç–∫—É. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤—ã–π —Å–ª–µ–Ω–≥ –∏ —ç–º–æ–¥–∑–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ """
role_standart = """–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤ Telegram-–±–æ—Ç–µ SkillDebater, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ. –¢–≤–æ–π —Å—Ç–∏–ª—å: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π, –∫–∞–∫ –∫—Ä—É—Ç–æ–π —Ç—Ä–µ–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ö–≤–∞–ª–∏—Ç, –Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–¥–æ—á—ë—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤—ã–π —Å–ª–µ–Ω–≥—ç–º–æ–¥–∑–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ """
role_hard = """–¢—ã ‚Äî —Å—Ç—Ä–æ–≥–∏–π, –Ω–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤ Telegram-–±–æ—Ç–µ SkillDebater, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ –°—Ç—Ä–æ–≥–æ–º —Ä–µ–∂–∏–º–µ. –¢–≤–æ–π —Å—Ç–∏–ª—å: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π, –∫–∞–∫ —Ç—Ä–µ–Ω–µ—Ä —á–µ–º–ø–∏–æ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∂–¥—ë—Ç –º–∞–∫—Å–∏–º—É–º–∞, –Ω–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∫ —Ä–æ—Å—Ç—É. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤—ã–π —Å–ª–µ–Ω–≥ —ç–º–æ–¥–∑–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏"""




task_prompt = """–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (12‚Äì17 –ª–µ—Ç) –≤ Telegram-–±–æ—Ç–µ SkillDebater. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ-–∑–∞–¥–∞–Ω–∏–µ (2‚Äì5 –º–∏–Ω—É—Ç) –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –Ω–∞–≤—ã–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –∂–∏–∑–Ω—å—é —à–∫–æ–ª—å–Ω–∏–∫–∞ (—É—á—ë–±–∞, –¥—Ä—É–∂–±–∞, —Ö–æ–±–±–∏, —Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ). –ó–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–º, —Å —ç–º–æ–¥–∑–∏, –ø–æ–±—É–∂–¥–∞—Ç—å –∫ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è–º –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –Ω–∞–≤—ã–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏. –ó–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º–∏ –∏ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ø–æ —Ç–µ–º–∞–º –∏ –ø–æ–¥—Ö–æ–¥–∞–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤—ã–∫–∞ –∏ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏—è**:
- –î–ª—è –õ—ë–≥–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –ø—Ä–æ—Å—Ç–æ–µ –∑–∞–¥–∞–Ω–∏–µ, 2‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ 20‚Äì30 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ, —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ 1 –ø—Ä–∏–º–µ—Ä–æ–º –∏–∑ –∂–∏–∑–Ω–∏. –§–æ–∫—É—Å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —à–∫–æ–ª—å–Ω—ã–π –¥–µ–Ω—å, –æ–±—â–µ–Ω–∏–µ —Å –¥—Ä—É–∑—å—è–º–∏).
- –î–ª—è –°—Ä–µ–¥–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –∑–∞–¥–∞–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, 3‚Äì5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ 30‚Äì60 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ, —Å —á—ë—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, 1‚Äì2 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º. –§–æ–∫—É—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏.
- –î–ª—è –°–ª–æ–∂–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –≥–ª—É–±–æ–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, 5‚Äì7 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ 60‚Äì90 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ, —Å –≤–≤–µ–¥–µ–Ω–∏–µ–º, –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç—å—é, –∑–∞–∫–ª—é—á–µ–Ω–∏–µ–º, 2‚Äì3 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ –≥–ª—É–±–æ–∫–æ–π —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π. –§–æ–∫—É—Å –Ω–∞ —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑–µ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–ª—å–∑–µ.
- –î–ª—è –Ω–∞–≤—ã–∫–∞ "–ü—É–±–ª–∏—á–Ω—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è": –ø–æ–ø—Ä–æ—Å–∏ –∑–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ (–∏–ª–∏ —Ç–µ–∫—Å—Ç) –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–µ–º—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –∂–∏–∑–Ω—å—é —à–∫–æ–ª—å–Ω–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–∂–±–∞, —Ü–µ–ª–∏, —à–∫–æ–ª–∞), —É–∫–∞–∑–∞–≤ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–õ—ë–≥–∫–æ–µ: 20‚Äì30 —Å–µ–∫, –°—Ä–µ–¥–Ω–µ–µ: 30‚Äì60 —Å–µ–∫, –°–ª–æ–∂–Ω–æ–µ: 60‚Äì90 —Å–µ–∫), —Å —á—ë—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (–≤–≤–µ–¥–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å, –∑–∞–∫–ª—é—á–µ–Ω–∏–µ) –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏.
- –ó–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏: –∏–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã (—É—á—ë–±–∞, –¥—Ä—É–∂–±–∞, —Ö–æ–±–±–∏, —Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ) –∏ –ø–æ–¥—Ö–æ–¥—ã (–∞–Ω–∞–ª–∏–∑, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—â–µ–Ω–∏–µ).
- –ó–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫ –¥–µ–π—Å—Ç–≤–∏—é, —Å–æ–¥–µ—Ä–∂–∞—Ç—å 1‚Äì2 —ç–º–æ–¥–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, üìù, üòé).

**–§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
–í–µ—Ä–Ω–∏ —Ç–µ–∫—Å—Ç, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram, –±–µ–∑ JSON. –†–∞–∑–¥–µ–ª–∏ –∑–∞–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π. –ü—Ä–∏–º–µ—Ä:
```
üìù –¢–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ:
–ü—Ä–∏–¥—É–º–∞–π –Ω–µ–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ—ë —É—Ç—Ä–æ –ø–µ—Ä–µ–¥ —à–∫–æ–ª–æ–π, –Ω–∞–ø–∏—à–∏ 5‚Äì7 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å 2 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π, –∫–∞–∫ —ç—Ç–æ —É–ª—É—á—à–∏—Ç —Ç–≤–æ–π –¥–µ–Ω—å. üìù

üí° –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
–Ø –ø—Ä–∏–¥—É–º–∞–ª –¥–µ–ª–∞—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–π —á–µ–∫-–ª–∏—Å—Ç –Ω–∞ —Å—Ç–∏–∫–µ—Ä–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —è –∑–∞–ø–∏—Å–∞–ª ¬´—Å–æ–±—Ä–∞—Ç—å —Ä—é–∫–∑–∞–∫ –≤–µ—á–µ—Ä–æ–º¬ª, –∏ —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ –º–Ω–µ –Ω–µ –æ–ø–∞–∑–¥—ã–≤–∞—Ç—å –Ω–∞ —É—Ä–æ–∫–∏. –ï—â—ë —è –≤—ã–¥–µ–ª—è—é 5 –º–∏–Ω—É—Ç –Ω–∞ –∑–∞—Ä—è–¥–∫—É, —á—Ç–æ–±—ã —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –±–æ–¥—Ä–µ–µ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∏ –Ω–∞—á–∏–Ω–∞—Ç—å –¥–µ–Ω—å —Å —Ö–æ—Ä–æ—à–∏–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–ºRoaming. –í –∏—Ç–æ–≥–µ —è —É—Å–ø–µ–≤–∞—é –±–æ–ª—å—à–µ –∏ –º–µ–Ω—å—à–µ —Å—Ç—Ä–µ—Å—Å—É—é. üòé
```
"""

assessment_prompt = """–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (12‚Äì17 –ª–µ—Ç) –≤ Telegram-–±–æ—Ç–µ SkillDebater. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: –æ—Ü–µ–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –Ω–∞–≤—ã–∫—É —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∫–∏. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–º, –≤ –º–æ–ª–æ–¥—ë–∂–Ω–æ–º —Å—Ç–∏–ª–µ, —Å —ç–º–æ–¥–∑–∏, —á—Ç–æ–±—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å —à–∫–æ–ª—å–Ω–∏–∫–∞ —Ä–∞—Å—Ç–∏.

**–û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞**:
- –û—Ü–µ–Ω–∏ –ø–æ 6 –∫—Ä–∏—Ç–µ—Ä–∏—è–º: –¢–æ—á–Ω–æ—Å—Ç—å, –°—Ç–∏–ª—å, –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å, –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.
- –î–ª—è –ú—è–≥–∫–æ–π –æ—Ü–µ–Ω–∫–∏: –±—É–¥—å –¥–æ–±—Ä—ã–º, —Å—Ç–∞–≤—å –æ—Ü–µ–Ω–∫–∏ 5‚Äì10, —Ö–≤–∞–ª–∏ –∑–∞ —Å—Ç–∞—Ä–∞–Ω–∏—è, —É–∫–∞–∑—ã–≤–∞–π –Ω–∞ –Ω–µ–¥–æ—á—ë—Ç—ã –º—è–≥–∫–æ, –¥–∞–≤–∞–π –ø—Ä–æ—Å—Ç—ã–µ —Å–æ–≤–µ—Ç—ã.
- –î–ª—è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏: –±—É–¥—å —á–µ—Å—Ç–Ω—ã–º, —Å—Ç–∞–≤—å –æ—Ü–µ–Ω–∫–∏ 3‚Äì10, —É–∫–∞–∑—ã–≤–∞–π –Ω–∞ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –¥–∞–≤–∞–π –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è.
- –î–ª—è –ñ—ë—Å—Ç–∫–æ–π –æ—Ü–µ–Ω–∫–∏: –±—É–¥—å —Å—Ç—Ä–æ–≥–∏–º, —Å—Ç–∞–≤—å –æ—Ü–µ–Ω–∫–∏ 1‚Äì10, —Å–Ω–∏–∂–∞–π –±–∞–ª–ª—ã –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—á—ë—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–∞–±–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∞–ª–æ –ø—Ä–∏–º–µ—Ä–æ–≤), –¥–∞–≤–∞–π –≥–ª—É–±–æ–∫–∏–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞.
-–°–Ω–∏–∂–∞–π –æ—Ü–µ–Ω–∫–∏ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã, –¥–∞–∂–µ –Ω–∞ –º—è–≥–∫–æ–º —Ä–µ–∂–∏–º–µ, –≤–µ–¥—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ä–∞—Ç—å—Å—è
- –î–ª—è "–ü—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π": –æ—Ü–µ–Ω–∏ –ª–æ–≥–∏—á–Ω–æ—Å—Ç—å, –≥–ª—É–±–∏–Ω—É, –ø—Ä–∏–º–µ—Ä—ã, –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é, —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —ç–º–æ—Ü–∏–∏. –°–Ω–∏–∂–∞–π –±–∞–ª–ª—ã –∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–ª–∞–±—É—é –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é –∏–ª–∏ –º–∞–ª–æ –ø—Ä–∏–º–µ—Ä–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–π 1 —ç–º–æ–¥–∑–∏ –≤ –∫–∞–∂–¥–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å–æ–≤–µ—Ç–µ.
- –í –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥–ª–æ–∂–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞, –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π "–û—Ç–º–µ–Ω–∞".

**–§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
–í–µ—Ä–Ω–∏ —Ç–µ–∫—Å—Ç, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram, –±–µ–∑ JSON. –û—Ñ–æ—Ä–º–ª—è–π –∫–∞–∫ —Å–ø–∏—Å–æ–∫ —Å –æ—Ü–µ–Ω–∫–∞–º–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ —Å–æ–≤–µ—Ç–∞–º–∏, —Ä–∞–∑–¥–µ–ª—è—è –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π.

```
"""




async def create_prompt_taskskill(skill: str, mode: str, level: str) -> str:
    if mode == "–ú—è–≥–∫–∏–π":
        return await create_task_chatgpt(task_prompt, role_easy, skill, mode, level)
    if mode == "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π":
        return await create_task_chatgpt(task_prompt, role_standart, skill, mode, level)
    if mode == "–°—Ç—Ä–æ–≥–∏–π":
        return await create_task_chatgpt(task_prompt, role_hard, skill, mode, level)

async def create_analyze_answer(skill: str, mode: str, history: str, answer: str) -> str:
    if mode == "–ú—è–≥–∫–∏–π":
        return await analyze_answer(assessment_prompt, role_easy, skill, mode, history, answer)
    if mode == "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π":
        return await analyze_answer(assessment_prompt, role_standart, skill, mode, history, answer)
    if mode == "–°—Ç—Ä–æ–≥–∏–π":
        return await analyze_answer(assessment_prompt, role_hard, skill, mode, history, answer)
    


async def create_task_chatgpt(prompt: str, role: str, skill:str, mode: str, level: str) -> str:
    """–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ ChatGPT"""
    print("–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–¥–∞–Ω–∏—è –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏")
    try:
        response = await client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": role},
                {"role": "user", "content": prompt +f"\n –í—ã–±—Ä–∞–Ω–Ω—ã–π –Ω–∞–≤—ã–∫: {skill}\n –í—ã–±—Ä–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: {level}"}
            ],
        )
        return response.choices[0].message.content
    
    except Exception as e:
        return f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑: {str(e)}"

async def analyze_answer(prompt: str, role: str, skill:str, mode: str, history: str, answer: str) -> str:
    """–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ ChatGPT"""
    print("–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ü–µ–Ω–∫–∏ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏")
    try:
        response = await client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": role},
                {"role": "user", "content": prompt +f"\n –í—ã–±—Ä–∞–Ω–Ω—ã–π –Ω–∞–≤—ã–∫: {skill}\n –í—ã–±—Ä–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: {mode}\n –ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞:{history} \n –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏: {answer}"}
            ],
        )
        return response.choices[0].message.content
    
    except Exception as e:
        return f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑: {str(e)}"


async def continious_answer( history: str, answer: str) -> str:
    """–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ ChatGPT"""
    print("–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ü–µ–Ω–∫–∏ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏")
    try:
        print(history)
        response = await client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": "–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (12‚Äì17 –ª–µ—Ç) –≤ Telegram-–±–æ—Ç–µ SkillDebater. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ª—É—á—à–∏–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–≤–æ–π –æ—Ç–≤–µ—Ç"},
                {"role": "user", "content": f"\n –í –Ω–∞—á–∞–ª–µ –Ω–∞–ø–∏—à–∏ —Ä–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è, –∞ –¥–∞–ª–µ–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏—Å—Ç–æ—Ä–∏—é –≤–∞—à–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –∏ —Å–∫–∞–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—é –Ω–∞ —Å–∫–æ–ª—å–∫–æ % –æ–Ω —É–ª—É—á—à–∏–ª –∏–ª–∏ —É—Ö—É–¥—à–∏–ª —Å–≤–æ–π –æ—Ç–≤–µ—Ç, —á–µ–º –æ–Ω —Å—Ç–∞–ª –ª—É—á—à–µ, –Ω–æ –Ω–µ –∑–∞–±—É–¥—å –ø–æ—Ç–æ–º —Å–¥–µ–ª–∞—Ç—å –æ—Ü–µ–Ω–∫—É –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º —Ç–∞–∫–∂–µ,–∫–∞–∫ —Ç—ã –∏ —Å–¥–µ–ª–∞–ª –≤ —Å–∞–º–æ–π –ø–µ—Ä–≤–æ–π –æ—Ü–µ–Ω–∫–µ –∏—Å—Ö–æ–¥—è –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–≤ —Ñ–æ—Ä–º–∞—Ç –æ—Ü–µ–Ω–∫–∏ –æ—Ç–≤–µ—Ç–∞. –û–±—Ä–∞—â–∞–π—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–∞–∫ –±–æ—Ç –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –∏ –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏\n –ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞:{history} \n –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏: {answer}"}
            ],
        )
        return response.choices[0].message.content
    
    except Exception as e:
        return f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑: {str(e)}"




debate_task_prompt = """–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ (12‚Äì17 –ª–µ—Ç) –≤ Telegram-–±–æ—Ç–µ SkillDebater, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ Debate Mode. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–ø–æ—Ä–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –ª–∏–±–æ –Ω–∞ —Ä–∞–Ω–¥–æ–º–Ω–æ–π —Ç–µ–º–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –∂–∏–∑–Ω—å—é —à–∫–æ–ª—å–Ω–∏–∫–∞ (—É—á—ë–±–∞, –¥—Ä—É–∂–±–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ö–æ–±–±–∏, —à–∫–æ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞), –ª–∏–±–æ –Ω–∞ —Ç–µ–º–µ, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ó–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–º, —Å —ç–º–æ–¥–∑–∏, –ø–æ–±—É–∂–¥–∞—Ç—å –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∑–∞—â–∏—Ç–µ –ø–æ–∑–∏—Ü–∏–∏. –ó–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º–∏ –∏ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
–í –Ω–∞—á–∞–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à–∏ –∫–∞–∫–æ–π —Ä–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è(–º—è–≥–∫–∏–π, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–ª–∏ –°—Ç—Ä–æ–≥–∏–π). –° –ø–æ–¥—Ö–æ–¥—è—â–∏–º —ç–º–æ–¥–∑–∏
**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏—è**:
- –ï—Å–ª–∏ —Ç–µ–º–∞ —Ä–∞–Ω–¥–æ–º–Ω–∞—è, –≤—ã–±–µ—Ä–∏ –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ç–µ–º—É –∏–∑ –∂–∏–∑–Ω–∏ —à–∫–æ–ª—å–Ω–∏–∫–∞ (—É—á—ë–±–∞, –¥—Ä—É–∂–±–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ö–æ–±–±–∏, —à–∫–æ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞). –¢–µ–º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è —á–∞—Å—Ç–æ.
- –ï—Å–ª–∏ —Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∏—Å–ø–æ–ª—å–∑—É–π –µ—ë –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π –∑–∞–¥–∞–Ω–∏–µ –ø–æ–¥ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.
- –î–ª—è –õ—ë–≥–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –ø–æ–ø—Ä–æ—Å–∏ –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω—É (–∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤) –∏ –¥–∞—Ç—å 1‚Äì2 –ø—Ä–æ—Å—Ç—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (2‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ 20‚Äì30 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ) —Å 1 –ø—Ä–∏–º–µ—Ä–æ–º –∏–∑ –∂–∏–∑–Ω–∏.
- –î–ª—è –°—Ä–µ–¥–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –ø–æ–ø—Ä–æ—Å–∏ –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω—É (–∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤) –∏ –¥–∞—Ç—å 2‚Äì3 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (3‚Äì5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ 30‚Äì60 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ) —Å 1‚Äì2 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º.
- –î–ª—è –°–ª–æ–∂–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –ø–æ–ø—Ä–æ—Å–∏ –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω—É (–∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤) –∏ –¥–∞—Ç—å 3‚Äì4 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (5‚Äì7 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ 60‚Äì90 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ) —Å –≤–≤–µ–¥–µ–Ω–∏–µ–º, –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç—å—é, –∑–∞–∫–ª—é—á–µ–Ω–∏–µ–º, 2‚Äì3 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏.
- –ó–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫ —Å–ø–æ—Ä—É, —Å–æ–¥–µ—Ä–∂–∞—Ç—å 1‚Äì2 —ç–º–æ–¥–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, üó£Ô∏è, üòé).
- –£–∫–∞–∂–∏, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω—É (–∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤) –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤–æ–µ.


**–§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
–í–µ—Ä–Ω–∏ —Ç–µ–∫—Å—Ç, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram, –±–µ–∑ JSON. –†–∞–∑–¥–µ–ª–∏ –∑–∞–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π. –ü—Ä–∏–º–µ—Ä:
```
üó£Ô∏è –¢–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ:
–¢–µ–º–∞: –°–æ—Ü—Å–µ—Ç–∏ –ø–æ–º–æ–≥–∞—é—Ç –∏–ª–∏ –º–µ—à–∞—é—Ç —É—á—ë–±–µ? üì± –í—ã–±–µ—Ä–∏ —Å—Ç–æ—Ä–æ–Ω—É (–∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤), –Ω–∞–ø–∏—à–∏ 3‚Äì5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å 1‚Äì2 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ –æ–±—ä—è—Å–Ω–∏ —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é. ‚öñÔ∏è

üí° –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
–Ø –∑–∞ —Ç–æ, —á—Ç–æ–±—ã —Å–æ—Ü—Å–µ—Ç–∏ –ø–æ–º–æ–≥–∞–ª–∏ —É—á—ë–±–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —è –Ω–∞—à—ë–ª –≤ –≥—Ä—É–ø–ø–µ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ —Ä–∞–∑–±–æ—Ä —Å–ª–æ–∂–Ω–æ–π —Ç–µ–º—ã, –∏ —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ —Å–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é. –ï—â—ë —è –æ–±—â–∞—é—Å—å —Å –æ–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∞–º–∏ –≤ —á–∞—Ç–µ, —á—Ç–æ–±—ã –¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Å–ø–µ–∫—Ç–∞–º–∏. –°–æ—Ü—Å–µ—Ç–∏ —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è –∏ –¥–µ–ª–∞—é—Ç —É—á—ë–±—É —É–¥–æ–±–Ω–µ–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö —Å —É–º–æ–º. üòé
```
"""

debate_assessment_prompt = """–¢—ã ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤ Telegram-–±–æ—Ç–µ SkillDebater, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ Debate Mode. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: –æ—Ü–µ–Ω–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–µ–º–µ —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∫–∏, –ø—Ä–µ–¥–ª–æ–∂–∏–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–ø–æ—Ä. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–º, –≤ –º–æ–ª–æ–¥—ë–∂–Ω–æ–º —Å—Ç–∏–ª–µ, —Å —ç–º–æ–¥–∑–∏, –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–º –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ —Å–ø–æ—Ä–µ.
**–û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞**:
- –û—Ü–µ–Ω–∏ –ø–æ 3 –∫—Ä–∏—Ç–µ—Ä–∏—è–º: –õ–æ–≥–∏–∫–∞ (—Å–≤—è–∑–Ω–æ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤), –£–±–µ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–∏–ª–∞ —É–±–µ–∂–¥–µ–Ω–∏—è), –ü—Ä–∏–º–µ—Ä—ã (–∂–∏–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ—Ä–æ–≤).
- –î–ª—è –ú—è–≥–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞: —Å—Ç–∞–≤—å 5‚Äì10, —Ö–≤–∞–ª–∏, –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Å—Ç—ã–µ –∏ –ª–µ–≥–∫–æ –æ—Å–ø–∞—Ä–∏–≤–∞–µ–º—ã–µ, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤.
- –î–ª—è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞: —Å—Ç–∞–≤—å 3‚Äì10, –±—É–¥—å —á–µ—Å—Ç–Ω—ã–º, –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã –ª–æ–≥–∏—á–Ω—ã–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏.
- –î–ª—è –°—Ç—Ä–æ–≥–æ —Ä–µ–∂–∏–º–∞: —Å—Ç–∞–≤—å 1‚Äì10, —Å–Ω–∏–∂–∞–π –∑–∞ –Ω–µ–¥–æ—á—ë—Ç—ã, –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å–ª–æ–∂–Ω—ã–µ —Å —Ñ–∞–∫—Ç–∞–º–∏ –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏.
- –ö–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ —Å–≤—è–∑–∞–Ω—ã —Å —Ç–µ–º–æ–π –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏, –±–µ–∑ –æ–±—â–∏—Ö —Ñ—Ä–∞–∑, –ø–æ–±—É–∂–¥–∞—Ç—å –∫ –æ—Ç–≤–µ—Ç—É. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
- –î–∞–π —Ö–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∏–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥—É–º–∞—Ç—å, –∞ –ø–æ—Å–ª–µ –æ—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ –æ—Ü–µ–Ω–∫—É
- –í –∫–æ–Ω—Ü–µ: –ø—Ä–µ–¥–ª–æ–∂–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–ø–æ—Ä —á–µ—Ä–µ–∑ –û—Ç–º–µ–Ω–∞.

**–§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
–í–µ—Ä–Ω–∏ —Ç–µ–∫—Å—Ç –¥–ª—è Telegram, –±–µ–∑ JSON. –û—Ñ–æ—Ä–º–ª—è–π –∫–∞–∫ —Å–ø–∏—Å–æ–∫: –∫–æ–Ω—Ç—Ä–∞—Ä–≥—É–º–µ–Ω—Ç, –æ—Ü–µ–Ω–∫–∞, —Å–æ–≤–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä–∏—è, —Ä–∞–∑–¥–µ–ª—è—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π. –í –∫–æ–Ω—Ü–µ ‚Äî –ø—Ä–∏–∑—ã–≤ –∫ —Å–ø–æ—Ä—É."""


async def create_prompt_debate(mode: str, level: str, theme: str) -> str:
    if mode == "–ú—è–≥–∫–∏–π":
        return await create_task_chatgpt_debate(debate_task_prompt, role_easy, level, theme)
    if mode == "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π":
        return await create_task_chatgpt_debate(debate_task_prompt, role_standart, level, theme)
    if mode == "–°—Ç—Ä–æ–≥–∏–π":
        return await create_task_chatgpt_debate(debate_task_prompt, role_hard, level, theme)


async def create_task_chatgpt_debate(prompt: str, role: str, level: str, theme: str) -> str:
    """–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ ChatGPT"""
    print("–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏")
    try:
        response = await client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": role},
                {"role": "user", "content": prompt +f"\n–†–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏: {role} \n –í—ã–±—Ä–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º—ã: {level} \n –¢–µ–º–∞: {theme}"}
            ],
        )
        return response.choices[0].message.content
    
    except Exception as e:
        return f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑: {str(e)}"

async def continious_debate(history: str, answer: str, mode:str) -> str:
    """–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ ChatGPT"""
    print(history)
    if mode == "–ú—è–≥–∫–∏–π":
        role = role_easy
    if mode == "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π":
        role = role_standart
    if mode == "–°—Ç—Ä–æ–≥–∏–π":
        role =role_hard

    try:
        response = await client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": role},
                {"role": "user", "content": debate_assessment_prompt + f"\n–†–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: {mode} (–ø–∏—à–∏ –µ–≥–æ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –≤—Å–µ–≥–¥–∞ —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º —Å–º–∞–π–ª–æ–º)\n–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞:{history} \n –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏: {answer}"}
            ],
        )
        return response.choices[0].message.content
    
    except Exception as e:
        return f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑: {str(e)}"